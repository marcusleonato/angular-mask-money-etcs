!function(e){var r=function(){var e={0:{pattern:/\d/,_default:"0"},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,optional:!0,recursive:!0},S:{pattern:/[a-zA-Z]/},$:{escape:!0}},r=function(r,t){for(var s=0,n=t-1,i={escape:!0};n>=0&&i&&i.escape;)s+=(i=e[r.charAt(n)])&&i.escape?1:0,n--;return s>0&&s%2==1},t=function(e,r){var t=e.replace(/[^0]/g,"").length;return r.replace(/[^\d]/g,"").length-t},s=function(e,r,t){return t.reverse?r+e:e+r},n=function(r,t,s){var i=r.charAt(t),a=e[i];return""!==i&&(!(!a||a.escape)||n(r,t+s,s))},i=function(e,r,t){var s=e.split("");return s.splice(t>=0?t:0,0,r),s.join("")},a=function(u,o){this.options=o||{},this.options={reverse:this.options.reverse||!1,usedefaults:this.options.usedefaults||this.options.reverse},this.pattern=u,a.prototype.process=function(a){if(!a)return"";a+="";for(var u=this.pattern,o=!0,m="",l=this.options.reverse?a.length-1:0,p=t(u,a),c=!1,f=[],d=!1,v={start:this.options.reverse?u.length-1:0,end:this.options.reverse?-1:u.length,inc:this.options.reverse?-1:1},h=v.start;function(e){if(!d&&n(u,h,v.inc))return!0;if(d||(d=f.length>0),d){var r=f.shift();if(f.push(r),e.reverse&&l>=0)return h++,u=i(u,r,h),!0;if(!e.reverse&&l<a.length)return u=i(u,r,h),!0}return h<u.length&&h>=0}(this.options);h+=v.inc){var g=u.charAt(h),$=a.charAt(l),S=e[g];if(!d||$){if(this.options.reverse&&r(u,h)){m=s(m,g,this.options),h+=v.inc;continue}if(!this.options.reverse&&c){m=s(m,g,this.options),c=!1;continue}if(!this.options.reverse&&S&&S.escape){c=!0;continue}}if(!d&&S&&S.recursive)f.push(g);else{if(d&&!$){S&&S.recursive||(m=s(m,g,this.options));continue}if(f.length>0&&S&&!S.recursive){o=!1;continue}if(!d&&f.length>0&&!$)continue}if(S)if(S.optional){if(S.pattern.test($)&&p)m=s(m,$,this.options),l+=v.inc,p--;else if(f.length>0&&$){o=!1;break}}else if(S.pattern.test($))m=s(m,$,this.options),l+=v.inc;else{if($||!S._default||!this.options.usedefaults){o=!1;break}m=s(m,S._default,this.options)}else m=s(m,g,this.options),!d&&f.length&&f.push(g)}return{result:m,valid:o}},a.prototype.apply=function(e){return this.process(e).result},a.prototype.validate=function(e){return this.process(e).valid}};return a.process=function(e,r,t){return new a(r,t).process(e)},a.apply=function(e,r,t){return new a(r,t).apply(e)},a.validate=function(e,r,t){return new a(r,t).validate(e)},a}();({boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1})[typeof module]&&(module.exports=r),function(){function e(e,r){var t=r.algorithmSteps,s=u.handleStr[t[0]](e),n=u.sum[t[1]](s,r.pesos),i=u.rest[t[2]](n);return parseInt(s[r.dvpos])===u.expectedDV[t[3]](i,s)}function r(r,t){if(t.match&&!t.match.test(r))return!1;for(var s=0;s<t.dvs.length;s++)if(!e(r,t.dvs[s]))return!1;return!0}var t=this,s={};s.validate=function(e){var r=[6,5,4,3,2,9,8,7,6,5,4,3,2],t=/^(0{14}|1{14}|2{14}|3{14}|4{14}|5{14}|6{14}|7{14}|8{14}|9{14})$/;if(!(e=e.replace(/[^\d]/g,""))||14!==e.length||t.test(e))return!1;e=e.split("");for(var s=0,n=0;s<12;s++)n+=e[s]*r[s+1];if(n=11-n%11,n=n>=10?0:n,parseInt(e[12])!==n)return!1;for(s=0,n=0;s<=12;s++)n+=e[s]*r[s];return n=11-n%11,n=n>=10?0:n,parseInt(e[13])===n};var n={};n.validate=function(e){function r(r){for(var t=0,s=r-9,n=0;n<9;n++)t+=parseInt(e.charAt(n+s))*(n+1);return t%11%10===parseInt(e.charAt(r))}var t=/^(0{11}|1{11}|2{11}|3{11}|4{11}|5{11}|6{11}|7{11}|8{11}|9{11})$/;return!(!(e=e.replace(/[^\d]+/g,""))||11!==e.length||t.test(e))&&(r(9)&&r(10))};var i=function(e){if(!(this instanceof i))return new i(e);this.rules=a[e]||[],this.rule,i.prototype._defineRule=function(e){this.rule=void 0;for(var r=0;r<this.rules.length&&void 0===this.rule;r++){var t=e.replace(/[^\d]/g,""),s=this.rules[r];t.length!==s.chars||s.match&&!s.match.test(e)||(this.rule=s)}return!!this.rule},i.prototype.validate=function(e){return!(!e||!this._defineRule(e))&&this.rule.validate(e)}},a={},u={handleStr:{onlyNumbers:function(e){return e.replace(/[^\d]/g,"").split("")},mgSpec:function(e){var r=e.replace(/[^\d]/g,"");return(r=r.substr(0,3)+"0"+r.substr(3,r.length)).split("")}},sum:{normalSum:function(e,r){for(var t=e,s=0,n=0;n<r.length;n++)s+=parseInt(t[n])*r[n];return s},individualSum:function(e,r){for(var t=e,s=0,n=0;n<r.length;n++){var i=parseInt(t[n])*r[n];s+=i%10+parseInt(i/10)}return s},apSpec:function(e,r){var t=this.normalSum(e,r),s=e.join("");return s>="030000010"&&s<="030170009"?t+5:s>="030170010"&&s<="030190229"?t+9:t}},rest:{mod11:function(e){return e%11},mod10:function(e){return e%10},mod9:function(e){return e%9}},expectedDV:{minusRestOf11:function(e){return e<2?0:11-e},minusRestOf11v2:function(e){return e<2?11-e-10:11-e},minusRestOf10:function(e){return e<1?0:10-e},mod10:function(e){return e%10},goSpec:function(e,r){var t=r.join("");return 1===e?t>="101031050"&&t<="101199979"?1:0:0===e?0:11-e},apSpec:function(e,r){var t=r.join("");return 0===e?t>="030170010"&&t<="030190229"?1:0:1===e?0:11-e},voidFn:function(e){return e}}};a.PE=[{chars:9,dvs:[{dvpos:7,pesos:[8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]},{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}},{chars:14,pesos:[[1,2,3,4,5,9,8,7,6,5,4,3,2]],dvs:[{dvpos:13,pesos:[5,4,3,2,1,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11v2"]}],validate:function(e){return r(e,this)}}],a.RS=[{chars:10,dvs:[{dvpos:9,pesos:[2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}}],a.AC=[{chars:13,match:/^01/,dvs:[{dvpos:11,pesos:[4,3,2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]},{dvpos:12,pesos:[5,4,3,2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}}],a.MG=[{chars:13,dvs:[{dvpos:12,pesos:[1,2,1,2,1,2,1,2,1,2,1,2],algorithmSteps:["mgSpec","individualSum","mod10","minusRestOf10"]},{dvpos:12,pesos:[3,2,11,10,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}}],a.SP=[{chars:12,match:/^[0-9]/,dvs:[{dvpos:8,pesos:[1,3,4,5,6,7,8,10],algorithmSteps:["onlyNumbers","normalSum","mod11","mod10"]},{dvpos:11,pesos:[3,2,10,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","mod10"]}],validate:function(e){return r(e,this)}},{chars:12,match:/^P/i,dvs:[{dvpos:8,pesos:[1,3,4,5,6,7,8,10],algorithmSteps:["onlyNumbers","normalSum","mod11","mod10"]}],validate:function(e){return r(e,this)}}],a.DF=[{chars:13,dvs:[{dvpos:11,pesos:[4,3,2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]},{dvpos:12,pesos:[5,4,3,2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}}],a.ES=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}}],a.BA=[{chars:8,match:/^[0123458]/,dvs:[{dvpos:7,pesos:[7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod10","minusRestOf10"]},{dvpos:6,pesos:[8,7,6,5,4,3,0,2],algorithmSteps:["onlyNumbers","normalSum","mod10","minusRestOf10"]}],validate:function(e){return r(e,this)}},{chars:8,match:/^[679]/,dvs:[{dvpos:7,pesos:[7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]},{dvpos:6,pesos:[8,7,6,5,4,3,0,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}},{chars:9,match:/^[0-9][0123458]/,dvs:[{dvpos:8,pesos:[8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod10","minusRestOf10"]},{dvpos:7,pesos:[9,8,7,6,5,4,3,0,2],algorithmSteps:["onlyNumbers","normalSum","mod10","minusRestOf10"]}],validate:function(e){return r(e,this)}},{chars:9,match:/^[0-9][679]/,dvs:[{dvpos:8,pesos:[8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]},{dvpos:7,pesos:[9,8,7,6,5,4,3,0,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}}],a.AM=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}}],a.RN=[{chars:9,match:/^20/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}},{chars:10,match:/^20/,dvs:[{dvpos:8,pesos:[10,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}}],a.RO=[{chars:14,dvs:[{dvpos:13,pesos:[6,5,4,3,2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}}],a.PR=[{chars:10,dvs:[{dvpos:8,pesos:[3,2,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]},{dvpos:9,pesos:[4,3,2,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}}],a.SC=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}}],a.RJ=[{chars:8,dvs:[{dvpos:7,pesos:[2,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}}],a.PA=[{chars:9,match:/^15/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}}],a.SE=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}}],a.PB=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}}],a.CE=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}}],a.PI=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}}],a.MA=[{chars:9,match:/^12/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}}],a.MT=[{chars:11,dvs:[{dvpos:10,pesos:[3,2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}}],a.MS=[{chars:9,match:/^28/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}}],a.TO=[{chars:11,match:/^[0-9]{2}((0[123])|(99))/,dvs:[{dvpos:10,pesos:[9,8,0,0,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}}],a.AL=[{chars:9,match:/^24[03578]/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return r(e,this)}}],a.RR=[{chars:9,match:/^24/,dvs:[{dvpos:8,pesos:[1,2,3,4,5,6,7,8],algorithmSteps:["onlyNumbers","normalSum","mod9","voidFn"]}],validate:function(e){return r(e,this)}}],a.GO=[{chars:9,match:/^1[015]/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","goSpec"]}],validate:function(e){return r(e,this)}}],a.AP=[{chars:9,match:/^03/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","apSpec","mod11","apSpec"]}],validate:function(e){return r(e,this)}}];var o={ie:i,cpf:n,cnpj:s};({function:!0,object:!0})[typeof module]?module.exports=o:t.BrV=o}.call(this),e.module("ui.utils.masks.br",["ui.utils.masks.helpers","ui.utils.masks.br.cep","ui.utils.masks.br.cpfCnpj","ui.utils.masks.br.ie","ui.utils.masks.br.nfe","ui.utils.masks.br.phone"]),e.module("ui.utils.masks.br.cep",[]).directive("uiBrCepMask",[function(){function e(e){return e.replace(/[^0-9]/g,"")}function t(e){return(s.process(e).result||"").trim().replace(/[^0-9]$/,"")}var s=new r("00000-000");return{restrict:"A",require:"ngModel",link:function(r,n,i,a){function u(e){var r=s.process(e);return a.$setValidity("cep",a.$isEmpty(e)||r.valid),e}function o(e){return a.$isEmpty(e)?e:t(e)}function m(r){if(a.$isEmpty(r))return r;var s=t(e(r));return a.$viewValue!==s&&(a.$setViewValue(s),a.$render()),e(s)}a.$formatters.push(o),a.$formatters.push(u),a.$parsers.push(m),a.$parsers.push(u)}}}]);"undefined"!=typeof BrV&&(t=BrV),function(){function s(e,r){if(!t)return r;var s=e.$isEmpty(r)||t.cpf.validate(r);return e.$setValidity("cpf",s),r}function n(e,r){if(!t)return r;var s=e.$isEmpty(r)||t.cnpj.validate(r);return e.$setValidity("cnpj",s),r}function i(e,r){return!r||r.length<=11?(n(e,""),s(e,r)):(s(e,""),n(e,r))}function a(e){return e.replace(/[^\d]/g,"")}function u(){function e(e){return(p.apply(e)||"").trim().replace(/[^0-9]$/,"")}return{restrict:"A",require:"ngModel",link:function(r,t,n,i){function u(r){return i.$isEmpty(r)?r:e(a(r))}function o(r){if(i.$isEmpty(r))return r;var t=e(a(r)),s=a(t);return i.$viewValue!==t&&(i.$setViewValue(t),i.$render()),s}function m(e){return s(i,e)}i.$formatters.push(u),i.$formatters.push(m),i.$parsers.push(o),i.$parsers.push(m)}}}function o(){function e(e){return(l.apply(e)||"").trim().replace(/[^0-9]$/,"")}return{restrict:"A",require:"ngModel",link:function(r,t,s,i){function u(r){return i.$isEmpty(r)?r:e(a(r))}function o(r){if(i.$isEmpty(r))return r;var t=e(a(r)),s=a(t);return i.$viewValue!==t&&(i.$setViewValue(t),i.$render()),s}function m(e){return n(i,e)}i.$formatters.push(u),i.$parsers.push(o),i.$parsers.push(m)}}}function m(){function e(e){return(e.length>11?l.apply(e):p.apply(e)||"").trim().replace(/[^0-9]$/,"")}return{restrict:"A",require:"ngModel",link:function(r,t,s,n){function u(r){return n.$isEmpty(r)?r:e(a(r))}function o(r){if(n.$isEmpty(r))return r;var t=e(a(r)),s=a(t);return n.$viewValue!==t&&(n.$setViewValue(t),n.$render()),s}function m(e){return i(n,e)}n.$formatters.push(u),n.$parsers.push(o),n.$parsers.push(m)}}}var l=new r("00.000.000/0000-00"),p=new r("000.000.000-00");e.module("ui.utils.masks.br.cpfCnpj",[]).directive("uiBrCpfMask",[u]).directive("uiBrCnpjMask",[o]).directive("uiBrCpfcnpjMask",[m]).directive("uiCpfMask",[u]).directive("uiCnpjMask",[o]).directive("uiCpfcnpjMask",[m])}();var t;"undefined"!=typeof BrV&&(t=BrV),e.module("ui.utils.masks.br.ie",[]).directive("uiBrIeMask",["$parse",function(e){function s(e){return e?e.replace(/[^0-9]/g,""):e}function n(e,r){if(e&&a[e]){if("SP"===e&&/^P/i.test(r))return a.SP[1].mask;for(var t=a[e],n=0;t[n].chars&&t[n].chars<s(r).length&&n<t.length-1;)n++;return t[n].mask}}function i(e,r){var t=n(r,e);if(!t)return e;var i=t.process(s(e)).result||"";return i=i.trim().replace(/[^0-9]$/,""),"SP"===r&&/^p/i.test(e)?"P"+i:i}var a={AC:[{mask:new r("00.000.000/000-00")}],AL:[{mask:new r("000000000")}],AM:[{mask:new r("00.000.000-0")}],AP:[{mask:new r("000000000")}],BA:[{chars:8,mask:new r("000000-00")},{mask:new r("0000000-00")}],CE:[{mask:new r("00000000-0")}],DF:[{mask:new r("00000000000-00")}],ES:[{mask:new r("00000000-0")}],GO:[{mask:new r("00.000.000-0")}],MA:[{mask:new r("000000000")}],MG:[{mask:new r("000.000.000/0000")}],MS:[{mask:new r("000000000")}],MT:[{mask:new r("0000000000-0")}],PA:[{mask:new r("00-000000-0")}],PB:[{mask:new r("00000000-0")}],PE:[{chars:9,mask:new r("0000000-00")},{mask:new r("00.0.000.0000000-0")}],PI:[{mask:new r("000000000")}],PR:[{mask:new r("000.00000-00")}],RJ:[{mask:new r("00.000.00-0")}],RN:[{chars:9,mask:new r("00.000.000-0")},{mask:new r("00.0.000.000-0")}],RO:[{mask:new r("0000000000000-0")}],RR:[{mask:new r("00000000-0")}],RS:[{mask:new r("000/0000000")}],SC:[{mask:new r("000.000.000")}],SE:[{mask:new r("00000000-0")}],SP:[{mask:new r("000.000.000.000")},{mask:new r("-00000000.0/000")}],TO:[{mask:new r("00000000000")}]};return{restrict:"A",require:"ngModel",link:function(r,n,a,u){function o(e){return u.$isEmpty(e)?e:i(e,p)}function m(e){if(u.$isEmpty(e))return e;var r=i(e,p),t=s(r);return u.$viewValue!==r&&(u.$setViewValue(r),u.$render()),p&&"SP"===p.toUpperCase()&&/^p/i.test(e)?"P"+t:t}function l(e){if(!t)return e;var r=u.$isEmpty(e)||t.ie(p).validate(e);return u.$setValidity("ie",r),e}var p=e(a.uiBrIeMask)(r)||"";p=p.toUpperCase(),u.$formatters.push(o),u.$formatters.push(l),u.$parsers.push(m),u.$parsers.push(l),r.$watch(a.uiBrIeMask,function(e){p=(p=e||"").toUpperCase(),m(u.$viewValue),l(u.$viewValue)})}}}]),e.module("ui.utils.masks.br.nfe",[]).directive("uiNfeAccessKeyMask",["$log",function(e){function t(e){return e.replace(/[^0-9]/g,"").slice(0,44)}var s=new r("0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000");return{restrict:"A",require:"ngModel",link:function(r,n,i,a){function u(r){return e.debug("[uiNfeAccessKeyMask] Formatter called: ",r),a.$isEmpty(r)?r:s.apply(r).replace(/[^0-9]$/,"")}function o(r){if(e.debug("[uiNfeAccessKeyMask] Parser called: ",r),a.$isEmpty(r))return r;var s=t(r),n=u(s);return a.$viewValue!==n&&(a.$setViewValue(n),a.$render()),s}function m(r){e.debug("[uiNfeAccessKeyMask] Validator called: ",r);var t=a.$isEmpty(r)||44===r.toString().length;return a.$setValidity("nfeAccessKey",t),r}a.$formatters.push(u),a.$formatters.push(m),a.$parsers.push(o),a.$parsers.push(m)}}}]),e.module("ui.utils.masks.br.phone",[]).directive("uiBrPhoneNumber",[function(){function e(e){return e.replace(/[^0-9]/g,"")}function t(e){return(e.length<11?s.apply(e)||"":n.apply(e)).trim().replace(/[^0-9]$/,"")}var s=new r("(00) 0000-0000"),n=new r("(00) 00000-0000");return{restrict:"A",require:"ngModel",link:function(r,s,n,i){function a(r){return i.$isEmpty(r)?r:t(e(r))}function u(r){if(i.$isEmpty(r))return r;var s=t(e(r)),n=e(s);return i.$viewValue!==s&&(i.$setViewValue(s),i.$render()),n}function o(e){var r=i.$isEmpty(e)||10===e.length||11===e.length;return i.$setValidity("brPhoneNumber",r),e}i.$formatters.push(a),i.$formatters.push(o),i.$parsers.push(u),i.$parsers.push(o)}}}]),e.module("ui.utils.masks.global",["ui.utils.masks.helpers","ui.utils.masks.global.date","ui.utils.masks.global.money","ui.utils.masks.global.number","ui.utils.masks.global.percentage","ui.utils.masks.global.scientific-notation","ui.utils.masks.global.time"]);var s;"undefined"!=typeof moment&&(s=moment);var n=[];try{e.module("angular-momentjs"),n.push("angular-momentjs")}catch(e){}e.module("ui.utils.masks.global.date",n).directive("uiDateMask",["$locale","$log","$injector",function(e,t,n){var i;if(void 0===s){if(!n.has("MomentJS"))throw new Error("Moment.js not found. Check if it is available.");i=n.get("MomentJS")}else i=s;var a={"pt-br":"DD/MM/YYYY"}[e.id]||"YYYY-MM-DD";return{restrict:"A",require:"ngModel",link:function(e,s,n,u){function o(e){var r=e.replace(/[^0-9]/g,"");return(c.process(r).result||"").trim().replace(/[^0-9]$/,"")}function m(e){if(t.debug("[uiDateMask] Formatter called: ",e),u.$isEmpty(e))return e;var r=o(i(e).format(a));return p(r),r}function l(e){if(t.debug("[uiDateMask] Parser called: ",e),u.$isEmpty(e))return p(e),e;var r=o(e);return t.debug("[uiDateMask] Formated value: ",r),u.$viewValue!==r&&(u.$setViewValue(r),u.$render()),p(r),i(r,a).toDate()}function p(e){t.debug("[uiDateMask] Validator called: ",e);var r=i(e,a).isValid()&&e.length===a.length;u.$setValidity("date",u.$isEmpty(e)||r)}var c=new r(a.replace(/[YMD]/g,"0"));u.$formatters.push(m),u.$parsers.push(l)}}}]),e.module("ui.utils.masks.global.money",["ui.utils.masks.helpers"]).directive("uiMoneyMask",["$locale","$parse","PreFormatters","NumberValidators","AppService",function(t,s,n,i,a){return{restrict:"A",require:"ngModel",link:function(u,o,m,l){function p(r){if(l.$isEmpty(r))return r;var t=e.isDefined(m.uiNegativeNumber)&&r<0?"-":"",s=n.prepareNumberToFormatter(r,h);return t+S.apply(s)}function c(r){if(l.$isEmpty(r))return r;var t=r.replace(/[^\d]+/g,"");t=t.replace(/^[0]+([1-9])/,"$1");var s=S.apply(t);if(e.isDefined(m.uiNegativeNumber)){var n="-"===r[0];"-"===r.slice(-1)^n&&t&&(t*=-1,s="-"+s)}return r!==s&&(l.$setViewValue(s),l.$render()),s?parseInt(s.replace(/[^\d\-]+/g,""))/Math.pow(10,h):null}var f=t.NUMBER_FORMATS.DECIMAL_SEP,d=t.NUMBER_FORMATS.GROUP_SEP,v=a.getCompanyCurrency(),h=s(m.uiMoneyMask)(u);e.isDefined(m.uiHideGroupSep)&&(d=""),isNaN(h)&&(h=2);var g=h>0?f+new Array(h+1).join("0"):"",$=v+" #"+d+"##0"+g,S=new r($,{reverse:!0});l.$formatters.push(p),l.$parsers.push(c),m.uiMoneyMask&&u.$watch(m.uiMoneyMask,function(e){isNaN(e)&&(e=2),g=e>0?f+new Array(e+1).join("0"):"",S=new r($=v+" #"+d+"##0"+g,{reverse:!0}),c(l.$viewValue)}),m.min&&(l.$parsers.push(function(e){var r=s(m.min)(u);return i.minNumber(l,e,r)}),u.$watch(m.min,function(e){i.minNumber(l,l.$modelValue,e)})),m.max&&(l.$parsers.push(function(e){var r=s(m.max)(u);return i.maxNumber(l,e,r)}),u.$watch(m.max,function(e){i.maxNumber(l,l.$modelValue,e)}))}}}]),e.module("ui.utils.masks.global.number",["ui.utils.masks.helpers"]).directive("uiNumberMask",["$locale","$parse","PreFormatters","NumberMasks","NumberValidators",function(r,t,s,n,i){return{restrict:"A",require:"ngModel",link:function(a,u,o,m){function l(r){if(m.$isEmpty(r))return r;var t=s.clearDelimitersAndLeadingZeros(r)||"0",n=v.apply(t),i=parseFloat(h.apply(t));if(e.isDefined(o.uiNegativeNumber)){var a="-"===r[0];"-"===r.slice(-1)^a&&i&&(i*=-1,n="-"+n)}return m.$viewValue!==n&&(m.$setViewValue(n),m.$render()),i}function p(r){if(m.$isEmpty(r))return r;var t="";e.isDefined(o.uiNegativeNumber)&&r<0&&(t="-");var n=s.prepareNumberToFormatter(r,d);return t+v.apply(n)}var c=r.NUMBER_FORMATS.DECIMAL_SEP,f=r.NUMBER_FORMATS.GROUP_SEP,d=t(o.uiNumberMask)(a);e.isDefined(o.uiHideGroupSep)&&(f=""),isNaN(d)&&(d=2);var v=n.viewMask(d,c,f),h=n.modelMask(d);m.$formatters.push(p),m.$parsers.push(l),o.uiNumberMask&&a.$watch(o.uiNumberMask,function(e){isNaN(e)&&(e=2),v=n.viewMask(e,c,f),h=n.modelMask(e),l(m.$viewValue)}),o.min&&(m.$parsers.push(function(e){var r=t(o.min)(a);return i.minNumber(m,e,r)}),a.$watch(o.min,function(e){i.minNumber(m,m.$modelValue,e)})),o.max&&(m.$parsers.push(function(e){var r=t(o.max)(a);return i.maxNumber(m,e,r)}),a.$watch(o.max,function(e){i.maxNumber(m,m.$modelValue,e)}))}}}]),e.module("ui.utils.masks.global.percentage",["ui.utils.masks.helpers"]).directive("uiPercentageMask",["$locale","$parse","PreFormatters","NumberMasks","NumberValidators",function(r,t,s,n,i){function a(e,r){return s.clearDelimitersAndLeadingZeros((100*parseFloat(e)).toFixed(r))}return{restrict:"A",require:"ngModel",link:function(u,o,m,l){function p(e){if(l.$isEmpty(e))return e;var r=a(e,v);return g.apply(r)+" %"}function c(e){if(l.$isEmpty(e))return e;var r=s.clearDelimitersAndLeadingZeros(e)||"0";e.length>1&&-1===e.indexOf("%")&&(r=r.slice(0,r.length-1));var t=g.apply(r)+" %",n=parseFloat($.apply(r));return l.$viewValue!==t&&(l.$setViewValue(t),l.$render()),n}var f=r.NUMBER_FORMATS.DECIMAL_SEP,d=r.NUMBER_FORMATS.GROUP_SEP,v=parseInt(m.uiPercentageMask);e.isDefined(m.uiHideGroupSep)&&(d=""),isNaN(v)&&(v=2);var h=v+2,g=n.viewMask(v,f,d),$=n.modelMask(h);l.$formatters.push(p),l.$parsers.push(c),m.uiPercentageMask&&u.$watch(m.uiPercentageMask,function(e){isNaN(e)&&(e=2),h=e+2,g=n.viewMask(e,f,d),$=n.modelMask(h),c(l.$viewValue)}),m.min&&(l.$parsers.push(function(e){var r=t(m.min)(u);return i.minNumber(l,e,r)}),u.$watch("min",function(e){i.minNumber(l,l.$modelValue,e)})),m.max&&(l.$parsers.push(function(e){var r=t(m.max)(u);return i.maxNumber(l,e,r)}),u.$watch("max",function(e){i.maxNumber(l,l.$modelValue,e)}))}}}]),e.module("ui.utils.masks.global.scientific-notation",[]).directive("uiScientificNotationMask",["$locale","$parse","$log",function(t,s,n){function i(e){var t="0";if(e>0){t+=a;for(var s=0;s<e;s++)t+="0"}return new r(t,{reverse:!0})}var a=t.NUMBER_FORMATS.DECIMAL_SEP;return{restrict:"A",require:"ngModel",link:function(r,t,u,o){function m(e){var r=e.toString().match(/(-?[0-9]*)[\.]?([0-9]*)?[Ee]?([\+-]?[0-9]*)?/);return{integerPartOfSignificand:r[1],decimalPartOfSignificand:r[2],exponent:0|r[3]}}function l(r){if(n.debug("[uiScientificNotationMask] Formatter called: ",r),o.$isEmpty(r))return r;"string"==typeof r?r=r.replace(a,"."):"number"==typeof r&&(r=r.toExponential(f));var t,s,i=m(r),u=i.integerPartOfSignificand||0,l=u.toString();return e.isDefined(i.decimalPartOfSignificand)&&(l+=i.decimalPartOfSignificand),(u>=1||u<=-1)&&(e.isDefined(i.decimalPartOfSignificand)&&i.decimalPartOfSignificand.length>f||0===f&&l.length>=2)&&(s=l.slice(f+1,l.length),l=l.slice(0,f+1)),t=d.apply(l),0!==i.exponent&&(s=i.exponent),e.isDefined(s)&&(t+="e"+s),t}function p(e){if(n.debug("[uiScientificNotationMask] Parser called: ",e),o.$isEmpty(e))return e;var r=l(e),t=parseFloat(r.replace(a,"."));return o.$viewValue!==r&&(o.$setViewValue(r),o.$render()),t}function c(e){if(n.debug("[uiScientificNotationMask] Validator called: ",e),o.$isEmpty(e))return e;var r=e<Number.MAX_VALUE;return o.$setValidity("max",r),e}var f=s(u.uiScientificNotationMask)(r);isNaN(f)&&(f=2);var d=i(f);o.$formatters.push(l),o.$formatters.push(c),o.$parsers.push(p),o.$parsers.push(c)}}}]),e.module("ui.utils.masks.global.time",[]).directive("uiTimeMask",["$log",function(t){if(void 0===r)throw new Error("StringMask not found. Check if it is available.");return{restrict:"A",require:"ngModel",link:function(s,n,i,a){function u(e){return e.replace(/[^0-9]/g,"").slice(0,p)}function o(e){if(t.debug("[uiTimeMask] Formatter called: ",e),a.$isEmpty(e))return e;var r=u(e);return 0===r.length?"":d.process(r).result.replace(/[^0-9]$/,"")}function m(e){t.debug("[uiTimeMask] Parser called: ",e);var r=o(e),s=r;return a.$viewValue!==r&&(a.$setViewValue(r),a.$render()),s}function l(r){if(t.debug("[uiTimeMask] Validator called: ",r),e.isUndefined(r))return r;var s=r.toString().split(/:/).filter(function(e){return!!e}),n=parseInt(s[0]),i=parseInt(s[1]),u=parseInt(s[2]||0),o=r.toString().length===c&&n<24&&i<60&&u<60;return a.$setValidity("time",a.$isEmpty(r)||o),r}var p=6,c=8,f="00:00:00";e.isDefined(i.uiTimeMask)&&"short"===i.uiTimeMask&&(p=4,c=5,f="00:00");var d=new r(f);a.$formatters.push(o),a.$formatters.push(l),a.$parsers.push(m),a.$parsers.push(l)}}}]),e.module("ui.utils.masks.helpers",[]).factory("PreFormatters",[function(){function e(e){var r=e.replace(/^-/,"").replace(/^0*/,"");return r=r.replace(/[^0-9]/g,"")}function r(r,t){return e(parseFloat(r).toFixed(t))}return{clearDelimitersAndLeadingZeros:e,prepareNumberToFormatter:r}}]).factory("NumberValidators",[function(){return{maxNumber:function(e,r,t){var s=parseFloat(t),n=e.$isEmpty(r)||isNaN(s)||r<=s;return e.$setValidity("max",n),r},minNumber:function(e,r,t){var s=parseFloat(t),n=e.$isEmpty(r)||isNaN(s)||r>=s;return e.$setValidity("min",n),r}}}]).factory("NumberMasks",[function(){return{viewMask:function(e,t,s){var n="#"+s+"##0";if(e>0){n+=t;for(var i=0;i<e;i++)n+="0"}return new r(n,{reverse:!0})},modelMask:function(e){var t="###0";if(e>0){t+=".";for(var s=0;s<e;s++)t+="0"}return new r(t,{reverse:!0})}}}]);var i=["ui.utils.masks.global","ui.utils.masks.br","ui.utils.masks.us"].filter(function(r){try{return e.module(r),!0}catch(e){return!1}});e.module("ui.utils.masks",i).config(["$logProvider",function(e){e.debugEnabled(!1)}])}(angular);
